(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{104:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),l=a(12),o=a.n(l),r=(a(48),a(15)),c=a(16),s=a(18),d=a(17),u=a(19),m=(a(49),a(14)),p=a.n(m),f=a(109),g=a(105),h=a(110),v=a(36),E=a.n(v),b=a(37),y=a.n(b),w=a(38),k=a.n(w),F=a(39);function O(e,t){p.a.get(e+"/delete?id="+t.id)}var N=a(8),j=a(111),C=a(106),S=a(107),x=a(108),D=a(40),T=a.n(D),A=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(s.a)(this,Object(d.a)(t).call(this,e))).state={endpoint:e.endpoint,modal:!1,file:e.file},a.toggle=a.toggle.bind(Object(N.a)(a)),a.deleteFile=e.deleteFile,a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"toggle",value:function(){this.setState(function(e){return{modal:!e.modal}})}},{key:"deleteAndToggle",value:function(e){this.toggle(),this.deleteFile(this.state.endpoint,e)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(g.a,{className:"deleteBtn",onClick:this.toggle},i.a.createElement("img",{className:"deleteIcon",src:T.a,alt:"delete icon"})),i.a.createElement(j.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},i.a.createElement(C.a,{toggle:this.toggle},"Confirm Delete"),i.a.createElement(S.a,null,"Do you want to remove this file?"),i.a.createElement(x.a,null,i.a.createElement(g.a,{color:"danger",onClick:function(){return e.deleteAndToggle(e.state.file)}},"Delete")," ",i.a.createElement(g.a,{color:"secondary",onClick:this.toggle},"Cancel"))))}}]),t}(i.a.Component),B=function(e){function t(){var e;return Object(r.a)(this,t),(e=Object(s.a)(this,Object(d.a)(t).call(this))).production_url="https://lizard-storage-backend.herokuapp.com",e.state={files:[],displaySpinner:!0},e.uploadingFile={file:null,name:""},e}return Object(u.a)(t,e),Object(c.a)(t,[{key:"updateFileState",value:function(){var e=this;p.a.get(this.production_url+"/showall").then(function(t){e.setState({displaySpinner:!1,files:t.data.map(function(e){return{name:e.filename,id:e._id}})})})}},{key:"componentDidMount",value:function(){this.updateFileState()}},{key:"componentDidUpdate",value:function(){this.updateFileState()}},{key:"onChange",value:function(e){e.target.files[0]&&(this.uploadingFile={file:e.target.files[0],name:e.target.files[0].name})}},{key:"generateList",value:function(e){var t=this;return e.map(function(e){return i.a.createElement("div",{key:e.id,className:"d-flex"},i.a.createElement(f.a,{action:!0,className:"fileitem"},e.name,i.a.createElement(g.a,{className:"downloadBtn",type:"submit",onClick:function(){return function(e,t){p()({url:e+"/download?id="+t.id,method:"GET",responseType:"blob"}).then(function(e){var a=window.URL.createObjectURL(new Blob([e.data])),n=document.createElement("a");n.href=a,n.setAttribute("download",t.name),document.body.appendChild(n),n.click()})}(t.production_url,e)}},i.a.createElement("img",{className:"downloadIcon",src:k.a,alt:"download icon"})),i.a.createElement(A,{id:e.id,endpoint:t.production_url,file:e,deleteFile:O})))})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"Header"},i.a.createElement("img",{id:"lizard-logo",src:E.a,alt:"logo"}),i.a.createElement("p",{id:"project-name"},"LIZARD STORAGE PROJECT")),i.a.createElement("div",{className:"FileDisplay"},i.a.createElement(h.a,{id:"filelist"},i.a.createElement(F.RotateLoader,{loading:this.state.displaySpinner,size:20,sizeUnit:"px",css:{margin:"80px !important"}}),this.generateList(this.state.files))),i.a.createElement("div",{className:"UploadForm"},i.a.createElement("form",{encType:"multipart/form-data",onSubmit:function(){return function(e,t){var a=e+"/upload",n=new FormData;n.append("uploadingfile",t.file),n.append("name",t.name),p.a.post(a,n,{headers:{"content-type":"multipart/form-data"}})}(e.production_url,e.uploadingFile)}},i.a.createElement("input",{className:"selectFile",type:"file",name:"uploadingfile",onChange:function(t){return e.onChange(t)}}),i.a.createElement("input",{className:"uploadBtn",src:y.a,type:"image",alt:"upload icon"}))))}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(103);o.a.render(i.a.createElement(B,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},36:function(e,t,a){e.exports=a.p+"static/media/lizard.d56c869e.svg"},37:function(e,t,a){e.exports=a.p+"static/media/upload.893e3b65.svg"},38:function(e,t,a){e.exports=a.p+"static/media/download.b3aa4b4b.svg"},40:function(e,t,a){e.exports=a.p+"static/media/trash.5bd80917.svg"},43:function(e,t,a){e.exports=a(104)},48:function(e,t,a){},49:function(e,t,a){}},[[43,1,2]]]);
//# sourceMappingURL=main.ca199cfc.chunk.js.map